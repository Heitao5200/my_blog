## RAG文本抽取

文件解析过程在RAG中的位置如图1所示

<img src="img/Task29探索RAG-PDF解析/640-20240403160816673" alt="Image" style="zoom:50%;" />

### PDF解析

#### 解析PDF的挑战

- PDF文档是非结构化数据的代表，解析它们需要准确提取页面布局和内容，包括表格、标题、段落和图像。
- 解析过程中的挑战包括文本提取的不准确性、图像识别问题以及表格中行-列关系的混乱。

#### 解析PDF的方法

- 基于规则的方法

  - 使用如pypdf这样的解析器，可以序列化PDF中的字符，但通常不保留结构信息。

  - 示例代码展示了如何使用pypdf从PDF文件中提取文本。


- 基于深度学习模型的方法

  - 可以准确识别文档布局，理解表格结构，并保留含义和结构。

  - 涉及目标检测和OCR模型，可能需要GPU加速和多进程处理。

  - 现有开源框架
    - Unstructured(# TODO 代码实战)
      - 从表格和图像中提取数据导出为HTML。
      - 解析双列PDF
      - 提取多级标题

    - Layout-parser
    - PP-StructureV2。


#### 基于多模态大模型的方法

- 使用多模态模型解析表格，如LlamaIndex中的案例。
- 方法包括将PDF页面视为图像进行处理，使用TableTransformer裁剪表信息，或应用OCR后发送到GPT模型。

## 结论
- 非结构化文档解析需要多种技术，目前没有统一的最佳实践。
- 建议根据项目需求和PDF类型选择最合适的解析方法。
- 基于深度学习和多模态的方法能够有效分割文档并保留其结构和含义。

- 